   local (.)_Options
   (.)_Options=$(getopt -o 'fa:o::' -l 'flag,arg:,optionalarg::' -n "${FUNCNAME[0]}" -- "$@") || return
   eval set -- "$(.)_Options"

   local (.)_OptionalVarDefault
   local (.)_Var="Value"
   while true ; do
      case "$1" in
      -f|--flag)        (.)_Var=true; shift;;
      -a|--arg)         (.)_Var="$2"; shift 2;;
      -o|--optionalarg) (.)_Var="${2:-$(.)_OptionalVarDefault}"; shift 2;;
      --)               shift; break;;
      *)                break;;
      esac
   done
